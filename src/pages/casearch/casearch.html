<!--
  Generated template for the CasearchPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="header" id="header">
    <ion-title class="title" >{{ 'Filter' | translate }}

    </ion-title>
  </ion-navbar>

</ion-header>

<ion-content no-bounce has-bounsing="false" id="caSearchContent" class="">

  <ion-item>
    <ion-label stacked color="label" stacked class="bold">{{ 'container_acceptance_no' | translate }}</ion-label>
    <ion-input placeholder="Container Acceptance No" type="tel" [(ngModel)]="containerAcceptanceNo"
               (keyup.enter)="keyboardClose()" (keyup)="keyUpValidate($event,canoPattern,'caacceptanceno')"
               onpaste="return true;" tappable spellcheck="false" [disabled]="false"
               maxlength="18"
    ></ion-input>
  </ion-item>
  <div>
    <div class="valerror" *ngIf="validate(containerAcceptanceNo,canoPattern)">
      Please enter valid characters.
    </div>
  </div>
  <ion-item>
    <ion-label stacked color="label" class="bold">{{ 'ca_location' | translate }}
    </ion-label>
    <ion-select class="label-left" [(ngModel)]="loc"  (ionChange)="onLocationChanged()" tappable>
      <ion-option *ngFor="let key of locationList" value={{key}}>{{key}}</ion-option>
    </ion-select>
  </ion-item>


  <ion-item>
    <ion-label stacked color="label" class="bold">{{ 'service_provider_name' | translate }}
    </ion-label>
    <ion-select class="label-left" [(ngModel)]="spname" tappable>
      <ion-option *ngFor="let key of spNameList" value={{key}}>{{key}}</ion-option>
    </ion-select>
  </ion-item>

  <ion-item>
    <ion-label stacked color="label" class="bold">{{ 'ca_acceptance_type' | translate }}
    </ion-label>
    <ion-select class="label-left" [(ngModel)]="acceptanceType" tappable
                (ionChange)="acceptanceTypeChange(acceptanceType)">
      <ion-option *ngFor="let accType of acceptanceTypeList" value={{accType.definedSetValueCode}}>{{accType.definedSetValueIntMessage}}</ion-option>
    </ion-select>
  </ion-item>

  <ion-item [hidden]="tradetypehidden">
    <ion-label stacked color="label" class="bold">{{ 'ca_trade_type' | translate }}
    </ion-label>
    <ion-select class="label-left"   [(ngModel)]="tradeType" tappable>
      <ion-option *ngFor="let trdType of tradeTypeList" value={{trdType.definedSetValueCode}}>{{trdType.definedSetValueIntMessage}}</ion-option>
    </ion-select>
  </ion-item>
  <ion-item>
    <ion-label color="label" stacked class="bold">{{ 'liner_booking_number' | translate }}</ion-label>
    <ion-input  class="liner_align" placeholder="Liner Booking Number" type="text"  [(ngModel)]="linerBookingNumber" tappable
               (keyup.enter)="keyboardClose()" (keyup)="keyUpValidate($event,linerPattern,'linerbookingnumber')"
               onpaste="return true;" spellcheck="false" [disabled]="false" maxlength="30"
    ></ion-input>
  </ion-item>
   <div>
     <div class="valerror" *ngIf="linerbookingValid()">
       {{ linerbookingErrormsg }}
     </div>
   </div>
  <ion-row  style="padding-left: 5px !important;padding-right: 20px !important;margin: 10px 0px 10px 10px !important;" col-12>
    <ion-label color="label" stacked class="bold">{{ 'ca_rotation_number' | translate }}
    </ion-label>
  </ion-row>
  <ion-row class="removePadding" col-12>
    <ion-col class="rowSeperator" style="margin-left: 15px;margin-right: 15px;">
  <ion-searchbar type="tel" (ionInput)="getRotationNo($event)" tappable
                 style="margin-left: 0px !important;margin-right: 0px !important;width: 100%;"
                 [(ngModel)]="rotationNumber"
                 (ionFocus)="getRotationNumberMaster()"
                 (ionBlur)="hideRotation()"
                 (keyup.enter)="keyboardClose()"
                 (keyup)="keyUpValidate($event,'^[0-9]{0,18}$','rotateNumber')"
                 onpaste="return true;"></ion-searchbar>
    </ion-col>
  </ion-row>
  <!--<div  class="smartSearchListContainer" *ngIf="showRotationNo">-->
  <!--<ion-list *ngIf="showRotationNo" style="overflow: hidden">-->
  <ion-list *ngIf="showRotationNo">
    <ion-item *ngFor="let item of filterRotationArray" (mousedown)="selectRotation(item)" tappable>
      {{ item.rotationNo }}
    </ion-item>
  </ion-list>
  <!--</div>-->
  <div class="valerror-search" *ngIf="validate(rotationNumber,'^[0-9]{0,18}$')">
    Please enter valid Rotation Number
  </div>

  <ion-item>
    <ion-label stacked color="label" class="bold">{{ 'ca_client_type' | translate }}
    </ion-label>
    <ion-select class="label-left" [(ngModel)]="clientType" tappable
                (ionChange)="clientTypeChange(clientType)">
      <ion-option *ngFor="let clttype of clientList" value={{clttype.definedSetValueCode}}>{{clttype.definedSetValueIntMessage}}</ion-option>
    </ion-select>
  </ion-item>

  <div [hidden]="clientcodehidden">
  <ion-row style="padding-left: 5px !important;padding-right: 20px !important;margin: 10px 0px 10px 10px !important;" col-12>
    <ion-label color="label" stacked class="bold">{{ 'ca_client_code' | translate }}
    </ion-label>
  </ion-row>
    <ion-row class="removePadding" col-12>
      <ion-col class="rowSeperator" style="margin-left: 15px;margin-right: 15px;">
        <ion-searchbar type="text" (ionInput)="getClientCode($event)" tappable
                       style="margin-left: 0px !important;margin-right: 0px !important;width: 100%;"
                       [(ngModel)]="clientTypeCode"
                       (ionFocus)="getClientCodeMaster()"
                       (ionBlur)="hideClientCode()"
                       (keyup.enter)="keyboardClose()" (keyup)="keyUpValidate($event,'^[a-z0-9A-Z]{0,30}$','clientcode')"
                       onpaste="return true;">
        </ion-searchbar>
      </ion-col>
    </ion-row>

    <!--<div  class="smartSearchListContainer" *ngIf="showClientCode">-->
    <!--<ion-list *ngIf="showClientCode" style="overflow: hidden">-->
    <ion-list *ngIf="showClientCode" >
    <ion-item *ngFor="let item of filterClientArray" (mousedown)="selectClientCode(item)" tappable>
      {{ item.companyCode }}
    </ion-item>
  </ion-list>
    <!--</div>-->
  </div>

  <div>
    <ion-item>
      <ion-label color="label" stacked class="bold">{{ 'ca_from_date' | translate }}</ion-label>
      <ion-datetime class="label-left" displayFormat={{dateFormat}} max={{maxvalue}}
                    [(ngModel)]="createdFromDate" tappable></ion-datetime>
    </ion-item>
    <ion-icon class="cal" name="calendar" color="header"></ion-icon>
  </div>

  <div>
    <ion-item>
      <ion-label color="label" stacked class="bold">{{ 'ca_to_date' | translate }}</ion-label>
      <ion-datetime class="label-left" displayFormat={{dateFormat}} max={{maxvalue}}
                    [(ngModel)]="createdToDate" tappable></ion-datetime>
    </ion-item>
    <ion-icon class="cal" name="calendar" color="header"></ion-icon>
  </div>

  <ion-item>
    <ion-label stacked color="label" class="bold">{{ 'ca_status' | translate }}
    </ion-label>
    <ion-select class="label-left" [(ngModel)]="statusSelected" tappable>
      <ion-option *ngFor="let status of statusList" value={{status.definedSetValueCode}}>{{status.definedSetValueIntMessage}}</ion-option>
    </ion-select>
  </ion-item>

  <ion-row>


    <ion-col class="imoitem" col-6>
      <ion-item id="searchbutton" no-lines>
        <button full color="submit" ion-button class="align-button-center-of-container button-apply-general" id="buttonsearch" (click)="reset()" tappable>{{ 'ca_reset' | translate }}</button>
      </ion-item>
    </ion-col>
    <ion-col class="imoitem" col-6>
      <ion-item id="searchbutton" no-lines>
        <button  full color="submit" ion-button class="align-button-center-of-container button-apply-general" id="buttonsearch" (click)="showCAresults()" tappable>{{ 'ca_search' | translate }}</button>
      </ion-item>
    </ion-col>
  </ion-row>
  <ion-row class="row"><ion-col class=" col" style="height:50px;" col-6="">
  </ion-col></ion-row>

<!--  <ion-fab right bottom>
    <button ion-fab style="background-color: #F2B011;" *ngIf="hideCreate()" (click)="openCACreate()" tappable>
      <ion-icon name="add"></ion-icon>
    </button>
  </ion-fab>-->

</ion-content>
